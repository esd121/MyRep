<!DOCTYPE html> 
<html lang="en"> 
<head> 
	<meta charset="utf-8"> 
	<title>Game of pins</title> 
	<link rel="stylesheet" href="../../bootstrap/css/bootstrap.css" >
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js" type="text/javascript"></script>
	<script src="../../bootstrap/js/bootstrap.js" type="text/javascript"></script>
 
    <script type="text/javascript">
        $(document).ready(function () {
			
            $('button.grab').on('click', function (event) {
                grap($(event.target).val());
            });

            $('button.reset').on('click', function (event) {
                reset();
            });
        });

        function reset() {
            $.each($('#horses > button'), function (i, item) {
                $(item).removeClass('btn-danger');
				$(item).addClass('btn-success');
            });
			$(".error").hide();
        }

        function grap(i){
			itemsToGrab = $('#horses > button.btn-success').slice(0,i);
			if($(itemsToGrab).size() == i){ 
				$(itemsToGrab).toggleClass('btn-danger').toggleClass('btn-success');
			} else {
				$(".error").show();
			}
        }
                	
	</script>
	
	<style type="text/css">
		.error{
			display: none;
			color:red;
		}
	</style>
	
 </head>
 
 <body>
	<div class="container">		
		<div class="modal hide fade in" style="display: none; " id="gameContainer">
			<div class="modal-header">
              <a class="close" data-dismiss="modal">×</a>
              <h3>Game of pins</h3>
            </div>
            <div class="modal-body">
				<button value="1" class="grab btn">1</button><button value="2" class="grab btn">2</button><button value="3" class="grab btn">3</button>  <button class="reset btn">reset</button>
				<p></p>
				<div class="error"><h4>Not that many left!<h4></div>
				<p></p>
				<div id="horses">
					<button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button><button class="btn-success">1</button>
				</div>
            </div>
            <div class="modal-footer">
              <a href="#" class="btn" data-dismiss="modal">Close</a>
            </div>
		</div>
	</div>
	<p><a data-toggle="modal" href="#gameContainer" class="btn btn-primary btn-large">Start Game!</a></p>
 </body>
 </html>
 